var CircularCarousel={start_time:0,list_obj:{},position:"Left",delay:500,width:20,margin_left:-3,computed_width:23,init:function(r,e,i){CircularCarousel.position=r,CircularCarousel.delay=i;var l=document.querySelectorAll(e+" li");CircularCarousel.width=l[0].offsetWidth,CircularCarousel.computed_width=CircularCarousel.width-CircularCarousel.margin_left,CircularCarousel.list_obj={li_array:l,selector:e}},animateCarousel:function(r){CircularCarousel.start_time||(CircularCarousel.start_time=r);var e=(CircularCarousel.list_obj.li_array,CircularCarousel.list_obj.selector),i=r-CircularCarousel.start_time;if("Right"==CircularCarousel.position){var l=Math.max(CircularCarousel.computed_width-i*CircularCarousel.computed_width/CircularCarousel.delay,CircularCarousel.margin_left);if(document.querySelector(e+" li:first-child").style.marginLeft=(-1*l).toString()+"px",l==CircularCarousel.margin_left)return f_child=document.querySelector(e+" li:last-child"),f_child.parentNode.removeChild(f_child),void(CircularCarousel.start_time=0)}else if("Left"==CircularCarousel.position){var l=Math.min(i*CircularCarousel.computed_width/CircularCarousel.delay,CircularCarousel.computed_width);if(document.querySelector(e+" li:first-child").style.marginLeft=(-1*l).toString()+"px",l==CircularCarousel.computed_width)return f_child=document.querySelector(e+" li:first-child"),f_child.parentNode.removeChild(f_child),void(CircularCarousel.start_time=0)}i<=CircularCarousel.delay+20?requestAnimationFrame(CircularCarousel.animateCarousel):CircularCarousel.start_time=0},cloneListNode:function(r){var e=document.createElement("li");return e.innerHTML=r.innerHTML,e.classList=r.classList,e},shiftCarousel:function(r,e,i){if(!CircularCarousel.start_time){CircularCarousel.init(r,e,i);var l=document.createDocumentFragment(),a=CircularCarousel.list_obj.li_array,t=CircularCarousel.list_obj.selector;if("Right"==r){var u=a.length;l.appendChild(a[u-1]);for(var o=0;u-1>o;o++)l.appendChild(a[o]);var c=CircularCarousel.cloneListNode(a[u-1]);l.appendChild(c)}if("Left"==r){var c=CircularCarousel.cloneListNode(a[0]);l.appendChild(c);for(var o=1;o<a.length;o++)l.appendChild(a[o]);l.appendChild(a[0])}document.querySelector(t).innerHTML="",document.querySelector(t).appendChild(l),"Right"==r&&(document.querySelector(t+" li:first-child").style.marginLeft=(-1*CircularCarousel.computed_width).toString()+"px"),requestAnimationFrame(CircularCarousel.animateCarousel)}}};module.exports=CircularCarousel;
